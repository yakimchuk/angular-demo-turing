<div class="mat-headline no-margin" i18n="@@navigator.departments.caption">Departments</div>

<mat-divider></mat-divider>

<app-component-preloader [@fade]="!departments && !error ? 'open' : 'closed'">
  <app-fake-placeholder type="rectangle"></app-fake-placeholder>
  <app-fake-placeholder type="line"></app-fake-placeholder>
  <app-fake-placeholder type="line"></app-fake-placeholder>
</app-component-preloader>

<app-component-error [@fade]="!departments && error ? 'open' : 'closed'">
  <div message i18n="@@navigator.departments.error">
    We cannot load departments list<br/>
    Please, press the button to try again<br/>
  </div>
  <div actions>
    <app-button-reload (click)="reload()" i18n="@@navigator.departments.reload">Reload departments</app-button-reload>
  </div>
</app-component-error>

<div [@slideTop]="departments ? 'open' : 'closed'">

  <div class="department" *ngFor="let department of departments">
    <div class="mat-title no-margin">
      <a routerLink="/departments/{{ department.id }}">{{ department.name }}</a>
    </div>
    <div class="mat-small department__description"><small>{{ department.description }}</small></div>
    <app-department-categories [departmentId]="department.id"></app-department-categories>
  </div>

</div>
